(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=(n(16),n(4)),u=n.n(i),s=n(7),l=n(2),d=(n(18),function(e){var t=new Date,n=t.getTime()+6e4*t.getTimezoneOffset(),r=function(e){var t=e.match(/(\+|-)(\d+):(\d+)/);if(null===t)return 0;var n=Object(l.a)(t,4),r=(n[0],n[1]),a=n[2],c=0;return"00"!==n[3]&&(c=.5),parseFloat("".concat(r).concat(parseFloat(a)+c))}(e);return new Date(n+36e5*r).toLocaleTimeString([],{timeStyle:"short"})}),f=n(1),j=function(e){return e},p={area:function(e){return e?e.toLocaleString()+" km\xb2":"--"},capital:j,demonym:j,languages:function(e){return e.map((function(e){return e.name})).join(", ")},name:j,nativeName:j,population:function(e){return e?e.toLocaleString():"unknown"},subregion:j,timezones:function(e){return e.length?d(e[0]):"Unknown"}},h={area:"Area",capital:"Capital",demonym:"Demonym",languages:"Languages",name:"Name",nativeName:"Native Name",population:"Population",subregion:"Region",timezones:"Local Time"},m=["name","nativeName","subregion","languages","population","capital","demonym","area","timezones"],b=function(e){var t=e.country;return window.country=t,t?m.map((function(e){return Object(f.jsxs)("p",{children:[h[e],": ",p[e](t[e])]},e)})):null},v=function(e){var t=e.options,n=e.filterValue;return Object(f.jsx)(f.Fragment,{children:function(){if(!n)return t;var e=n.replaceAll("(","").replaceAll(")","");return t.filter((function(t){return RegExp(e,"i").test(t)}))}().map((function(e){return Object(f.jsx)("p",{value:e,className:"country-dropdown-option",children:e},e)}))})},O=function(e){var t=e.options,n=e.selectedCountryName,a=e.setSelectedCountryName,c=Object(r.useState)(n),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)(!1),d=Object(l.a)(s,2),j=d[0],p=d[1],h=Object(r.createRef)(),m=function(e){u(e),a(e),p(!1)};return Object(f.jsxs)("div",{className:"typeahead-container",children:[Object(f.jsx)("input",{tabIndex:"0",type:"text",id:"typeahead-input",className:"typeahead-input",placeholder:"Choose a country",value:i,onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Escape"===e.key&&p(!1)},onKeyPress:function(e){"Enter"===e.key&&m(i)},onFocus:function(){return p(!0)},ref:h}),(null===i||void 0===i?void 0:i.length)>0&&Object(f.jsx)("div",{className:"clear-input",onClick:function(){u(""),h.current.focus()},children:"X"}),j&&Object(f.jsx)("div",{className:"country-dropdown width-100",onClick:function(e){return m(e.target.innerText)},children:Object(f.jsx)(v,{options:t,filterValue:i})})]})},g=(n(20),function(){return Object(f.jsx)("div",{className:"loader-container",children:Object(f.jsxs)("div",{className:"lds-ripple",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})})}),x=n(5);var w=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1];return{isFetching:a,get:function(){var t=Object(s.a)(u.a.mark((function t(n){var r,a,o,i,s,l,d=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"GET",a=d.length>2&&void 0!==d[2]?d[2]:{},o=d.length>3?d[3]:void 0,c(!0),i=e+n,t.prev=5,t.next=8,fetch(i,Object(x.a)({method:r,headers:a},o));case 8:return s=t.sent,t.next=11,s.json();case 11:if(l=t.sent,s.ok){t.next=14;break}throw new Error("Request received code: ".concat(s.status));case 14:return t.abrupt("return",l);case 17:throw t.prev=17,t.t0=t.catch(5),t.t0;case 20:return t.prev=20,c(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()}},y=function(){var e=Object(r.useState)({width:null,height:null}),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){return window.addEventListener("resize",function(e,t){var n;return function(){clearTimeout(n),n=setTimeout((function(){return e()}),t)}}(c,100)),c(),function(){return window.removeEventListener("resize",c)}}),[]);var c=function(){a({width:window.innerWidth,height:window.innerHeight})};return n},N=n(23),S=n(24),k=n(25),E=function(e){var t=e.latitude,n=e.longitude,r=e.country,a=function(){var e=Object(N.a)(),a=c(r.area);return e.flyTo([t,n],a,{duration:2}),null},c=function(e){return e?e<1?12:e<1e3?10:e<5e4?8:e<1e5?7:e<1e6?6:e<=1e7?4:e>1e7?2:void 0:6};return Object(f.jsxs)(S.a,{center:[t,n],zoom:4,scrollWheelZoom:!0,children:[Object(f.jsx)(k.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(f.jsx)(a,{})]})},C=function(e){var t=e.lat,n=e.lng,a=Object(r.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1],u=w(""),s=u.isFetching,d=u.get;if(Object(r.useEffect)((function(){if(!t||!n)return null;d(function(e,t){return"".concat("https://api.openweathermap.org/data/2.5/weather","?lat=").concat(e,"&lon=").concat(t,"&appid=").concat("fae8e49e14d1105c5ea04729cc0ceaab","&units=imperial")}(t,n)).then(i).catch(console.error)}),[t,n]),!o||s)return Object(f.jsx)("p",{children:"Weather: --"});var j=o.weather,p=o.main,h="".concat(Math.round(p.temp),"\xbaF"),m=j[0].main,b="".concat(Math.round(p.feels_like),"\xbaF");return Object(f.jsxs)("p",{children:["Weather: ",h," and ",m,", feels like ",b]})};var F=function(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(r.useState)([]),p=Object(l.a)(j,2),h=p[0],m=p[1],v=w("".concat("https://restcountries.eu/rest/v2")),x=v.isFetching,N=v.get,S=(y(),function(e){return d(e.toLowerCase())});Object(r.useEffect)((function(){k().then((function(e){window.countries=e,F(e)}))}),[]);var k=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/all");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){var t={},n=[];e.forEach((function(e){t[e.name.toLowerCase()]=e,n.push(e.name)})),a(t),m(n),function(e){var t=e.length,n=e[Math.round(Math.random()*t)];S(n.name)}(e)},L=n[i]||null,T=null;return L&&(T=L.latlng),Object(f.jsxs)("div",{className:"App",children:[x&&Object(f.jsx)(g,{}),!x&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"flex-container",children:[Object(f.jsx)("div",{className:"column country-list",children:Object(f.jsx)(O,{options:h,selectedCountryName:i,setSelectedCountryName:S})}),T&&Object(f.jsx)(E,{country:L,latitude:T[0],longitude:T[1]}),Object(f.jsx)("div",{className:"column flag-display",children:L&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{id:"flag",width:"250",src:L.flag}),Object(f.jsx)(b,{country:L}),Object(f.jsx)(C,{lat:L.latlng[0],lng:L.latlng[1]})]})})]})})]})};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8b1a33b4.chunk.js.map